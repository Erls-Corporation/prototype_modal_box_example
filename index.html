<html>
    <head>
	<title>Test Page</title>
	<script type="text/javascript" src="js/prototype-1.6.0.3.js"></script>
	<script type="text/javascript" src="js/livepipe/livepipe.js"></script>
	<script type="text/javascript" src="js/livepipe/window.js"></script>
        
<script type="text/javascript">

function addObservers() {
  
  // hide the spinner box
  // var spinner_box = $('modal');
  // spinner_box.hide();
  
  var modal_window = new Control.Modal($('modal'), {
    closeOnClick : false
  });
  

  // "attach" the following behavior to the submit event of the form with id="my_form"
  $('my_form').observe('submit', function(event) {
     // $('modal').show(); 
     // $('modal').fire('click');
     event.preventDefault();
  });
}

// Event.observe(window, 'dom:loaded', addObservers);
document.observe('dom:loaded', addObservers);

</script>
<style>
#control_overlay {
  background: #000;
}

#hidden_message {
  background: #fff;
}

.modal {
  background: #fff;
}
</style>
</head>
<body>

    <form id="my_form" action="#">
        <input id="name" name="name" type="text" />

        <input id="commit" name="commit" type="submit" />
    </form>

    <a id="modal" href="#">
        Spinner here.
    </a>
</body>
</html>
